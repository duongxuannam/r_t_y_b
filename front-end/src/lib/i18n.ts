import { appState } from '../state/appState'
import type { LanguageId } from '../state/appState'

const translations = {
  en: {
    'nav.mainApp': 'Main App',
    'nav.about': 'About',
    'nav.auth': 'Auth',
    'header.menu': 'Menu',
    'header.openMenu': 'Open menu',
    'header.logout': 'Logout',
    'header.loggingOut': 'Logging out...',
    'header.guest': 'Guest',
    'header.navigate': 'Navigate',
    'header.close': 'Close',
    'header.closeMenu': 'Close menu',
    'header.theme': 'Theme',
    'header.guestMode': 'Guest mode',
    'assistant.title': 'AI Assistant',
    'assistant.subtitle': 'Ask me to manage todos, theme, or language.',
    'assistant.open': 'Open AI chat',
    'assistant.hide': 'Hide chat',
    'assistant.close': 'Close',
    'assistant.placeholder': 'Ask me to create or update a todo…',
    'assistant.send': 'Send',
    'language.label': 'Language',
    'language.english': 'English',
    'language.vietnamese': 'Vietnamese',
    'language.switchToEnglish': 'Switch to English',
    'language.switchToVietnamese': 'Switch to Vietnamese',
    'theme.light': 'Light',
    'theme.dark': 'Dark',
    'tour.title': 'Welcome to Todo Pulse',
    'tour.subtitle': 'Take a quick tour before you start.',
    'tour.step': 'Step',
    'tour.step.welcome.title': 'Navigate the app',
    'tour.step.welcome.description': 'Use the menu to switch between the main app, about, and auth pages.',
    'tour.step.auth.title': 'Connect your account',
    'tour.step.auth.description': 'Sign in or register to sync todos with the Rust API.',
    'tour.step.todos.title': 'Manage your tasks',
    'tour.step.todos.description': 'Create, drag, and complete tasks to keep your list organized.',
    'tour.back': 'Back',
    'tour.next': 'Next',
    'tour.finish': 'Finish',
    'tour.skip': 'Skip tour',
    'about.overview': 'Overview',
    'about.title': 'A modern dashboard for the Rust Todo API',
    'about.description':
      'This UI now uses shadcn/ui components on top of Tailwind, paired with Legend State for local state and TanStack Query for server data.',
    'about.highlights': 'Tech highlights',
    'about.legendState': 'Reactive global store for auth + theme.',
    'about.tanstack': 'Query caching + mutations for todos.',
    'about.shadcn': 'Reusable components with a clean, modern Tailwind foundation.',
    'about.coverageTitle': 'Unit test coverage',
    'about.coverageLoading': 'Loading backend coverage info...',
    'about.coverageError': 'Unable to load unit test coverage.',
    'about.coverageValue': 'Coverage',
    'about.coverageNotes': 'Notes',
    'auth.secureAccess': 'Secure access',
    'auth.title': 'Authenticate',
    'auth.subtitle': 'Connect with the Rust API to manage todos with JWT auth.',
    'auth.jwtPowered': 'JWT powered',
    'auth.tab.reset': 'Reset',
    'auth.tab.login': 'Login',
    'auth.tab.register': 'Register',
    'auth.tab.forgot': 'Forgot',
    'auth.email': 'Email',
    'auth.emailPlaceholder': 'Email address',
    'auth.password': 'Password',
    'auth.passwordPlaceholder': 'Enter your password',
    'auth.working': 'Working...',
    'auth.continue': 'Continue',
    'auth.forgotHint': 'We will email a reset link if the account exists.',
    'auth.sending': 'Sending...',
    'auth.sendReset': 'Send reset email',
    'auth.resetToken': 'Reset token',
    'auth.resetTokenPlaceholder': 'Paste your reset token',
    'auth.newPassword': 'New password',
    'auth.newPasswordPlaceholder': 'Create a new password',
    'auth.updating': 'Updating...',
    'auth.resetPassword': 'Reset password',
    'auth.passwordHint': 'Use 8+ characters with a mix of letters and numbers.',
    'auth.failure': 'Authentication failed',
    'auth.successTitle': 'Success',
    'auth.success': 'Authenticated successfully.',
    'auth.requestFailed': 'Auth request failed.',
    'auth.checklist': 'Auth checklist',
    'auth.checklistSubtitle': 'What happens after you connect your account.',
    'auth.accessRefresh': 'Access + refresh',
    'auth.accessRefreshDescription':
      'Keep the access token in memory and local storage for fast requests.',
    'auth.tokenRenewal': 'Token renewal',
    'auth.tokenRenewalDescription':
      'Use the refresh endpoint when you add automatic token rotation.',
    'auth.apiCalls': 'API calls',
    'auth.apiCallsDescription': 'Always send Authorization: Bearer <token>.',
    'auth.accountRecovery': 'Account recovery',
    'auth.accountRecoveryDescription': 'Use the reset token sent to your inbox.',
    'auth.requestHeader': 'Request header',
    'todo.title': 'Todo Control',
    'todo.subtitle': 'Track tasks synced with the Rust API.',
    'todo.total': 'Total',
    'todo.completed': 'Completed',
    'todo.loginRequired': 'Login required',
    'todo.loginRequiredDescription': 'Please login first to sync todos with the API.',
    'todo.empty': 'No todos yet. Add one to get started.',
    'todo.assignee': 'Assignee',
    'todo.reporter': 'Reporter',
    'todo.assignTo': 'Assign to',
    'todo.unassigned': 'Unassigned',
    'todo.noAssignees': 'No assignees available',
    'todo.updated': 'Updated',
    'todo.delete': 'Delete',
    'todo.create': 'Create todo',
    'todo.createSubtitle': 'Add a new task to your personal list.',
    'todo.titlePlaceholder': 'Todo title',
    'todo.saving': 'Saving...',
    'todo.add': 'Add todo',
    'todo.loginBeforeCreate': 'Login required before creating tasks.',
    'todo.close': 'Close',
    'todo.closeCreateModal': 'Close create todo modal',
    'todo.dragHint': 'Drag cards between columns to update their status and priority.',
    'todo.updatingTitle': 'Syncing changes',
    'todo.updatingDescription': 'Please wait while your todo updates are being saved.',
    'todo.deleting': 'Deleting...',
    'todo.section.planning': 'Planning',
    'todo.section.planningDescription': 'Tasks being prepared before implementation.',
    'todo.section.processing': 'In progress',
    'todo.section.processingDescription': 'Tasks actively being developed and verified.',
    'todo.section.done': 'Completed',
    'todo.section.doneDescription': 'Tasks already closed with final result.',
    'todo.column.todo': 'Backlog',
    'todo.column.todoDescription': 'Ideas ready to start.',
    'todo.column.planned': 'Planned',
    'todo.column.plannedDescription': 'Requirements scoped and queued to start.',
    'todo.column.inProgress': 'In progress',
    'todo.column.inProgressDescription': 'Currently being worked on.',
    'todo.column.fixing': 'Fixing',
    'todo.column.fixingDescription': 'Under active bug fixing and adjustments.',
    'todo.column.waitingTest': 'Waiting for test',
    'todo.column.waitingTestDescription': 'Implementation done, waiting for QA/testing.',
    'todo.column.done': 'Done',
    'todo.column.doneDescription': 'Completed and ready to archive.',
    'todo.column.failed': 'Failed',
    'todo.column.failedDescription': 'Closed but did not meet expected outcome.',
    'todo.column.empty': 'Drop a card here.',
    'reset.title': 'Reset password',
    'reset.subtitle': 'Paste your reset token and choose a new password.',
    'reset.tokenPlaceholder': 'Reset token',
    'reset.passwordPlaceholder': 'New password',
    'reset.updating': 'Updating...',
    'reset.submit': 'Reset password',
    'reset.passwordHint': 'Password needs at least 8 characters with letters and numbers.',
    'reset.failure': 'Reset failed',
    'reset.requestFailed': 'Reset request failed.',
    'reset.successTitle': 'Success',
    'reset.backTitle': 'Back to auth',
    'reset.backDescription': 'Login again after resetting your password.',
    'reset.backCta': 'Go to auth page',
    'notFound.title': 'Page not found',
    'notFound.description': 'The page you requested does not exist.',
    'notFound.backCta': 'Back to dashboard',
    'errors.unableToLoadTodos': 'Unable to load todos.',
    'errors.requestFailed': 'Request failed.',
  },
  vi: {
    'nav.mainApp': 'Trang chính',
    'nav.about': 'Giới thiệu',
    'nav.auth': 'Xác thực',
    'header.menu': 'Menu',
    'header.openMenu': 'Mở menu',
    'header.logout': 'Đăng xuất',
    'header.loggingOut': 'Đang đăng xuất...',
    'header.guest': 'Khách',
    'header.navigate': 'Điều hướng',
    'header.close': 'Đóng',
    'header.closeMenu': 'Đóng menu',
    'header.theme': 'Giao diện',
    'header.guestMode': 'Chế độ khách',
    'assistant.title': 'Trợ lý AI',
    'assistant.subtitle': 'Nhắn để tạo todo, đổi giao diện hoặc ngôn ngữ.',
    'assistant.open': 'Mở chat AI',
    'assistant.hide': 'Ẩn chat',
    'assistant.close': 'Đóng',
    'assistant.placeholder': 'Nhắn để tạo hoặc cập nhật todo…',
    'assistant.send': 'Gửi',
    'language.label': 'Ngôn ngữ',
    'language.english': 'Tiếng Anh',
    'language.vietnamese': 'Tiếng Việt',
    'language.switchToEnglish': 'Chuyển sang tiếng Anh',
    'language.switchToVietnamese': 'Chuyển sang tiếng Việt',
    'theme.light': 'Sáng',
    'theme.dark': 'Tối',
    'tour.title': 'Chào mừng đến với Todo Pulse',
    'tour.subtitle': 'Cùng xem nhanh hướng dẫn trước khi bắt đầu.',
    'tour.step': 'Bước',
    'tour.step.welcome.title': 'Điều hướng ứng dụng',
    'tour.step.welcome.description': 'Dùng menu để chuyển giữa trang chính, giới thiệu và xác thực.',
    'tour.step.auth.title': 'Kết nối tài khoản',
    'tour.step.auth.description': 'Đăng nhập hoặc đăng ký để đồng bộ todo với Rust API.',
    'tour.step.todos.title': 'Quản lý tác vụ',
    'tour.step.todos.description': 'Tạo, kéo thả và hoàn thành tác vụ để giữ danh sách gọn gàng.',
    'tour.back': 'Quay lại',
    'tour.next': 'Tiếp',
    'tour.finish': 'Hoàn tất',
    'tour.skip': 'Bỏ qua tour',
    'about.overview': 'Tổng quan',
    'about.title': 'Bảng điều khiển hiện đại cho Rust Todo API',
    'about.description':
      'Giao diện này sử dụng shadcn/ui trên nền Tailwind, kết hợp Legend State cho trạng thái cục bộ và TanStack Query cho dữ liệu máy chủ.',
    'about.highlights': 'Điểm nổi bật công nghệ',
    'about.legendState': 'Kho trạng thái toàn cục phản ứng cho auth + giao diện.',
    'about.tanstack': 'Bộ nhớ đệm truy vấn + mutation cho todos.',
    'about.shadcn': 'Thành phần tái sử dụng với nền tảng Tailwind hiện đại.',
    'about.coverageTitle': 'Độ bao phủ unit test',
    'about.coverageLoading': 'Đang tải thông tin coverage từ backend...',
    'about.coverageError': 'Không thể tải độ bao phủ unit test.',
    'about.coverageValue': 'Coverage',
    'about.coverageNotes': 'Ghi chú',
    'auth.secureAccess': 'Truy cập an toàn',
    'auth.title': 'Xác thực',
    'auth.subtitle': 'Kết nối với Rust API để quản lý todo bằng JWT.',
    'auth.jwtPowered': 'Hỗ trợ JWT',
    'auth.tab.reset': 'Đặt lại',
    'auth.tab.login': 'Đăng nhập',
    'auth.tab.register': 'Đăng ký',
    'auth.tab.forgot': 'Quên mật khẩu',
    'auth.email': 'Email',
    'auth.emailPlaceholder': 'Địa chỉ email',
    'auth.password': 'Mật khẩu',
    'auth.passwordPlaceholder': 'Nhập mật khẩu',
    'auth.working': 'Đang xử lý...',
    'auth.continue': 'Tiếp tục',
    'auth.forgotHint': 'Chúng tôi sẽ gửi email đặt lại nếu tài khoản tồn tại.',
    'auth.sending': 'Đang gửi...',
    'auth.sendReset': 'Gửi email đặt lại',
    'auth.resetToken': 'Mã đặt lại',
    'auth.resetTokenPlaceholder': 'Dán mã đặt lại',
    'auth.newPassword': 'Mật khẩu mới',
    'auth.newPasswordPlaceholder': 'Tạo mật khẩu mới',
    'auth.updating': 'Đang cập nhật...',
    'auth.resetPassword': 'Đặt lại mật khẩu',
    'auth.passwordHint': 'Dùng 8+ ký tự gồm chữ và số.',
    'auth.failure': 'Xác thực thất bại',
    'auth.successTitle': 'Thành công',
    'auth.success': 'Xác thực thành công.',
    'auth.requestFailed': 'Yêu cầu xác thực thất bại.',
    'auth.checklist': 'Danh sách xác thực',
    'auth.checklistSubtitle': 'Những gì xảy ra sau khi bạn kết nối tài khoản.',
    'auth.accessRefresh': 'Truy cập + làm mới',
    'auth.accessRefreshDescription':
      'Giữ access token trong bộ nhớ và local storage để truy vấn nhanh.',
    'auth.tokenRenewal': 'Gia hạn token',
    'auth.tokenRenewalDescription':
      'Dùng endpoint refresh khi bạn thêm cơ chế xoay vòng token.',
    'auth.apiCalls': 'Gọi API',
    'auth.apiCallsDescription': 'Luôn gửi Authorization: Bearer <token>.',
    'auth.accountRecovery': 'Khôi phục tài khoản',
    'auth.accountRecoveryDescription': 'Dùng mã đặt lại được gửi đến hộp thư.',
    'auth.requestHeader': 'Header yêu cầu',
    'todo.title': 'Quản lý todo',
    'todo.subtitle': 'Theo dõi tác vụ đồng bộ với Rust API.',
    'todo.total': 'Tổng',
    'todo.completed': 'Hoàn thành',
    'todo.loginRequired': 'Cần đăng nhập',
    'todo.loginRequiredDescription': 'Vui lòng đăng nhập để đồng bộ todo với API.',
    'todo.empty': 'Chưa có todo. Hãy thêm một mục mới.',
    'todo.assignee': 'Người được giao',
    'todo.reporter': 'Người tạo',
    'todo.assignTo': 'Giao cho',
    'todo.unassigned': 'Chưa giao',
    'todo.noAssignees': 'Chưa có người để giao',
    'todo.updated': 'Cập nhật',
    'todo.delete': 'Xóa',
    'todo.create': 'Tạo todo',
    'todo.createSubtitle': 'Thêm tác vụ mới vào danh sách cá nhân.',
    'todo.titlePlaceholder': 'Tiêu đề todo',
    'todo.saving': 'Đang lưu...',
    'todo.add': 'Thêm todo',
    'todo.loginBeforeCreate': 'Cần đăng nhập trước khi tạo tác vụ.',
    'todo.close': 'Đóng',
    'todo.closeCreateModal': 'Đóng hộp tạo todo',
    'todo.dragHint': 'Kéo thả thẻ giữa các cột để cập nhật trạng thái và ưu tiên.',
    'todo.updatingTitle': 'Đang đồng bộ thay đổi',
    'todo.updatingDescription': 'Vui lòng chờ trong khi các cập nhật todo được lưu.',
    'todo.deleting': 'Đang xóa...',
    'todo.section.planning': 'Đang lên kế hoạch',
    'todo.section.planningDescription': 'Các tác vụ đang được chuẩn bị trước khi triển khai.',
    'todo.section.processing': 'Đang xử lý',
    'todo.section.processingDescription': 'Các tác vụ đang được thực hiện và kiểm tra.',
    'todo.section.done': 'Đã xong',
    'todo.section.doneDescription': 'Các tác vụ đã đóng với kết quả cuối cùng.',
    'todo.column.todo': 'Cần làm',
    'todo.column.todoDescription': 'Ý tưởng sẵn sàng bắt đầu.',
    'todo.column.planned': 'Đã lên kế hoạch',
    'todo.column.plannedDescription': 'Yêu cầu đã rõ và chờ bắt đầu.',
    'todo.column.inProgress': 'Đang làm',
    'todo.column.inProgressDescription': 'Tác vụ đang thực hiện.',
    'todo.column.fixing': 'Đang fix',
    'todo.column.fixingDescription': 'Đang sửa lỗi và điều chỉnh.',
    'todo.column.waitingTest': 'Đợi test',
    'todo.column.waitingTestDescription': 'Đã làm xong, đang chờ QA/test.',
    'todo.column.done': 'Hoàn thành',
    'todo.column.doneDescription': 'Đã hoàn tất và sẵn sàng lưu trữ.',
    'todo.column.failed': 'Thất bại',
    'todo.column.failedDescription': 'Đã đóng nhưng không đạt kết quả mong muốn.',
    'todo.column.empty': 'Thả thẻ vào đây.',
    'reset.title': 'Đặt lại mật khẩu',
    'reset.subtitle': 'Dán mã đặt lại và chọn mật khẩu mới.',
    'reset.tokenPlaceholder': 'Mã đặt lại',
    'reset.passwordPlaceholder': 'Mật khẩu mới',
    'reset.updating': 'Đang cập nhật...',
    'reset.submit': 'Đặt lại mật khẩu',
    'reset.passwordHint': 'Mật khẩu cần tối thiểu 8 ký tự gồm chữ và số.',
    'reset.failure': 'Đặt lại thất bại',
    'reset.requestFailed': 'Yêu cầu đặt lại thất bại.',
    'reset.successTitle': 'Thành công',
    'reset.backTitle': 'Quay lại xác thực',
    'reset.backDescription': 'Đăng nhập lại sau khi đặt lại mật khẩu.',
    'reset.backCta': 'Đến trang xác thực',
    'notFound.title': 'Không tìm thấy trang',
    'notFound.description': 'Trang bạn yêu cầu không tồn tại.',
    'notFound.backCta': 'Quay lại bảng điều khiển',
    'errors.unableToLoadTodos': 'Không thể tải danh sách todo.',
    'errors.requestFailed': 'Yêu cầu thất bại.',
  },
} as const

export type TranslationKey = keyof typeof translations.en

export const t = (key: TranslationKey): string => {
  const language = appState.language.get()
  return translations[language]?.[key] ?? translations.en[key] ?? key
}

export const getNextLanguage = (language: LanguageId): LanguageId =>
  language === 'en' ? 'vi' : 'en'
